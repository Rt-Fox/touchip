(this.webpackJsonptouchip=this.webpackJsonptouchip||[]).push([[0],{70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t),a.d(t,"Context",(function(){return V}));var n=a(1),c=a(14),s=a.n(c),r=a(16),i=a(5),l=a(7),o="/login",d=a(3),u=a.n(d),j=a(4),b=a(26),p=a.n(b),h=p.a.create({baseURL:"https://touchip.ru"}),m=p.a.create({baseURL:"https://touchip.ru"});m.interceptors.request.use((function(e){var t;return e.headers.authorization="Bearer ".concat(null===(t=JSON.parse(localStorage.getItem("token")))||void 0===t?void 0:t.access),e}));var x=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("api/cards/"+t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.patch("/api/cards/"+t,a);case 2:return n=e.sent,c=n.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("api/fields",t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.patch("api/fields/"+t,a);case 2:return n=e.sent,c=n.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("api/fields/"+t);case 2:return e.abrupt("return",null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=a(10),y=a(0),k=function(e){var t=Object(n.useState)(e.props.title),a=Object(i.a)(t,2),c=a[0],s=(a[1],Object(n.useState)(e.props.value)),r=Object(i.a)(s,2),l=r[0],o=r[1],d=Object(n.useState)(e.props.link),b=Object(i.a)(d,2),p=b[0],h=b[1];if(Object(n.useEffect)((function(){h(e.props.link)}),[e.props.link]),Object(n.useEffect)((function(){o(e.props.value)}),[e.props.value]),p.startsWith("tel:"))var m="tel:";else if(p.startsWith("mailto:"))m="mailto:";function x(){return(x=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("phone"!==c){t.next=6;break}return t.next=3,v(e.props.id,{value:l,link:"tel:"+p.replace(m,"")});case 3:t.sent,t.next=15;break;case 6:if("email"!==c){t.next=12;break}return t.next=9,v(e.props.id,{value:l,link:"mailto:"+p.replace(m,"")});case 9:t.sent,t.next=15;break;case 12:return t.next=14,v(e.props.id,{value:l,link:p});case 14:t.sent;case 15:document.getElementById("close"+e.props.id).click();case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e.props.id);case 2:window.location.reload();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(y.jsxs)("div",{className:"col-2 col-lg-1",children:[Object(y.jsx)("button",{className:"fix_button","data-toggle":"modal","data-target":"#"+e.props.id,children:Object(y.jsxs)("svg",{className:"button_svg",version:"1.0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1025.000000 1280.000000",preserveAspectRatio:"xMidYMid meet",children:[Object(y.jsx)("metadata",{children:"Created by potrace 1.15, written by Peter Selinger 2001-2017"}),Object(y.jsx)("g",{transform:"translate(0.000000,1280.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none",children:Object(y.jsx)("path",{d:"M8422 12784 c-30 -8 -57 -12 -62 -9 -4 3 -17 -3 -28 -13 -11 -9 -564\r -735 -1229 -1612 -665 -877 -2075 -2736 -3133 -4130 -1058 -1394 -2048 -2698\r -2199 -2898 l-276 -364 -746 -1866 c-520 -1301 -744 -1871 -737 -1879 7 -9 61\r 22 206 121 109 74 865 586 1680 1139 l1484 1006 385 508 c212 279 596 785 853\r 1123 256 338 1240 1634 2185 2880 945 1246 2107 2777 2582 3403 475 626 861\r 1142 858 1147 -3 5 -8 36 -10 69 -12 189 -156 431 -405 680 -357 357 -840 640\r -1190 697 -105 17 -150 17 -218 -2z"})})]})}),Object(y.jsx)("form",{className:"modal fade",id:e.props.id,tabIndex:"-1",role:"dialog","aria-labelledby":"fixModalLabel","aria-hidden":"true",children:Object(y.jsx)("div",{className:"col-10 modal-dialog",role:"document",children:Object(y.jsxs)("div",{className:"modal-content",children:[Object(y.jsxs)("div",{className:"modal-header",children:[Object(y.jsx)("h5",{className:"modal-title",id:"fixModalLabel",children:"Modal title"}),Object(y.jsx)("button",{type:"button",id:"close"+e.props.id,className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(y.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(y.jsxs)("div",{className:"modal-body",children:[e.props.value&&Object(y.jsx)("input",{type:"text",placeholder:"\u041a\u0430\u043a \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435",value:l,onChange:function(e){o(e.target.value)}}),e.props.link&&Object(y.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443",value:p.replace(m,""),onChange:function(e){h(e.target.value)}}),Object(y.jsx)("button",{type:"button",onClick:function(){return O.apply(this,arguments)},className:"btn btn-primary danger",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"})]}),Object(y.jsx)("div",{className:"modal-footer",children:Object(y.jsx)("button",{type:"button",onClick:function(){return x.apply(this,arguments)},className:"btn btn-primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})})]})})})]})},w=function(e){var t=Object(n.useContext)(V).user.isAuth,a=Object(n.useState)(e.props),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(null),o=Object(i.a)(l,2),d=o[0],b=o[1];function p(){return(p=Object(j.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(n=s.map((function(e){return e.id===a.id?Object(N.a)(Object(N.a)({},e),{},{order:d.order}):e.id===d.id?Object(N.a)(Object(N.a)({},e),{},{order:a.order}):e}))).forEach((function(e,t){e.order!==s[t].order&&v(e.id,{order:e.order})}),[]),r(n),t.target.style.background="white";case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){r(e.props)}),[e.props]);return Object(y.jsx)("div",{className:"d-flex flex-column align-items-center row w-100",children:null===s||void 0===s?void 0:s.sort((function(e,t){return e.order>t.order?1:-1})).map((function(e){return t&&Object(y.jsxs)("div",{onDragStart:function(t){return function(e,t){b(t)}(0,e)},onDragLeave:function(e){},onDragEnd:function(e){},onDragOver:function(e){return function(e){e.preventDefault()}(e)},onDrop:function(t){return function(e,t){return p.apply(this,arguments)}(t,e)},className:"fix burger d-flex align-items-center justify-content-center w-100 row",draggable:!0,children:[Object(y.jsx)(k,{props:e}),Object(y.jsx)("a",{href:e.link,className:e.title+" col-8 col-sm-7 col-lg-6",children:Object(y.jsx)("div",{className:"",children:e.value})}),Object(y.jsx)("div",{className:"col-2 col-lg-1 d-flex justify-content-end",children:Object(y.jsxs)("svg",{className:"burger_svg",viewBox:"0 0 100 80",width:"30",height:"30",children:[Object(y.jsx)("rect",{width:"100",height:"10"}),Object(y.jsx)("rect",{y:"30",width:"100",height:"10"}),Object(y.jsx)("rect",{y:"60",width:"100",height:"10"})]})})]},e.id)||Object(y.jsx)("div",{className:e.title+" fix burger",children:Object(y.jsx)("a",{href:e.link,children:e.value})},e.id)}))})},C=a(15),S=function(){var e=Object(n.useState)("instagram"),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1],d=Object(n.useState)(""),b=Object(i.a)(d,2),p=b[0],h=b[1];function m(e){c(e.target.children[0].id)}function x(){return(x=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({title:a,value:l,link:p});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsxs)("div",{className:"card",children:[Object(y.jsx)("div",{className:"card-header",id:"headingOne",children:Object(y.jsx)("h5",{className:"mb-0",children:Object(y.jsx)("button",{className:"btn btn-link","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"\u0421\u043e\u0446. \u0441\u0435\u0442\u0438"})})}),Object(y.jsx)("div",{id:"collapseOne",className:"collapse show","aria-labelledby":"headingOne","data-parent":"#accordion",children:Object(y.jsx)("div",{className:"card-body",children:Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{className:"btn-group btn-group-toggle d-flex flex-wrap","data-toggle":"buttons",children:[Object(y.jsxs)("label",{className:"btn btn-secondary active",onClick:m,children:[Object(y.jsx)("input",{type:"radio",name:"options",id:"instagram"}),"instagram"]}),Object(y.jsxs)("label",{className:"btn btn-secondary",onClick:m,children:[Object(y.jsx)("input",{type:"radio",name:"options",id:"twitter"}),"twitter"]}),Object(y.jsxs)("label",{className:"btn btn-secondary",onClick:m,children:[Object(y.jsx)("input",{type:"radio",name:"options",id:"telegram"}),"telegram"]}),Object(y.jsxs)("label",{className:"btn btn-secondary",onClick:m,children:[Object(y.jsx)("input",{type:"radio",name:"options",id:"tiktok"}),"tiktok"]}),Object(y.jsxs)("label",{className:"btn btn-secondary",onClick:m,children:[Object(y.jsx)("input",{type:"radio",name:"options",id:"facebook"}),"facebook"]}),Object(y.jsxs)("label",{className:"btn btn-secondary",onClick:m,children:[Object(y.jsx)("input",{type:"radio",name:"options",id:"youtube"}),"youtube"]}),Object(y.jsxs)("label",{className:"btn btn-secondary",onClick:m,children:[Object(y.jsx)("input",{type:"radio",name:"options",id:"vk"}),"vk"]}),Object(y.jsxs)("label",{className:"btn btn-secondary",onClick:m,children:[Object(y.jsx)("input",{type:"radio",name:"options",id:"another"}),"\u0434\u0440\u0443\u0433\u043e\u0435"]})]}),Object(y.jsxs)("div",{className:"form-group row",children:[Object(y.jsx)("label",{htmlFor:"inputText2",className:"col-12 col-form-label",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)("input",{type:"text",className:"form-control",id:"inputText2",onChange:function(e){o(e.target.value)},placeholder:"\u041a\u0430\u043a \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435?"})})]}),Object(y.jsxs)("div",{className:"form-group row",children:[Object(y.jsx)("label",{htmlFor:"inputText3",className:"col-12 col-form-label",children:"\u0421\u0441\u044b\u043b\u043a\u0430"}),Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)("input",{type:"text",className:"form-control",onChange:function(e){h(e.target.value)},id:"inputText3",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0432 \u0441\u043e\u0446\u0441\u0435\u0442\u0438 \u0438\u043b\u0438 \u0441\u0441\u044b\u043b\u043a\u0443"})})]}),Object(y.jsx)("button",{className:"btn btn-secondary",type:"button",onClick:function(){return x.apply(this,arguments)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})})]})},T=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];function s(e){c(e.target.value)}function r(){return(r=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({title:a,value:" ",link:""});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsxs)("div",{className:"card",children:[Object(y.jsx)("div",{className:"card-header",id:"headingTwo",children:Object(y.jsx)("h5",{className:"mb-0",children:Object(y.jsx)("button",{className:"btn btn-link collapsed","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c"})})}),Object(y.jsx)("div",{id:"collapseTwo",className:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordion",children:Object(y.jsx)("div",{className:"card-body",children:Object(y.jsx)("form",{children:Object(y.jsxs)("fieldset",{className:"form-group",children:[Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col-12",children:[Object(y.jsxs)("div",{className:"form-check",children:[Object(y.jsx)("input",{className:"form-check-input",type:"radio",name:"gridRadios",id:"line1",value:"line-1",onClick:s}),Object(y.jsx)("label",{htmlFor:"line1",className:"line-1",children:" "})]}),Object(y.jsxs)("div",{className:"form-check",children:[Object(y.jsx)("input",{className:"form-check-input",type:"radio",name:"gridRadios",id:"line2",value:"line-2",onClick:s}),Object(y.jsx)("label",{htmlFor:"line2",className:"line-2",children:" "})]}),Object(y.jsxs)("div",{className:"form-check",children:[Object(y.jsx)("input",{className:"form-check-input",type:"radio",name:"gridRadios",id:"line3",value:"line-3",onClick:s}),Object(y.jsx)("label",{htmlFor:"line3",className:"line-3",children:" "})]}),Object(y.jsxs)("div",{className:"form-check",children:[Object(y.jsx)("input",{className:"form-check-input",type:"radio",name:"gridRadios",id:"line4",value:"line-4",onClick:s}),Object(y.jsx)("label",{htmlFor:"line4",className:"line-4",children:" "})]})]})}),Object(y.jsx)("button",{className:"btn btn-secondary",type:"button",onClick:function(){return r.apply(this,arguments)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})})})]})},_=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1];function d(){return(d=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({title:"phone",value:a,link:l});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsxs)("div",{className:"card",children:[Object(y.jsx)("div",{className:"card-header",id:"headingThree",children:Object(y.jsx)("h5",{className:"mb-0",children:Object(y.jsx)("button",{className:"btn btn-link collapsed","data-toggle":"collapse","data-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"})})}),Object(y.jsx)("form",{id:"collapseThree",className:"collapse","aria-labelledby":"headingThree","data-parent":"#accordion",children:Object(y.jsxs)("div",{className:"card-body",children:[Object(y.jsxs)("div",{className:"form-group row",children:[Object(y.jsx)("label",{htmlFor:"inputText2",className:"col-12 col-form-label",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)("input",{type:"text",className:"form-control",id:"inputText2",placeholder:"\u041a\u0430\u043a \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435?",onChange:function(e){c(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group row",children:[Object(y.jsx)("label",{htmlFor:"inputText3",className:"col-12 col-form-label",children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)("input",{type:"text",className:"form-control",id:"inputText3",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",onChange:function(e){o("tel:"+e.target.value)}})})]}),Object(y.jsx)("button",{className:"btn btn-secondary",type:"button",onClick:function(){return d.apply(this,arguments)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})]})},F=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];function s(){return(s=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({title:"text",value:a,link:""});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsxs)("div",{className:"card",children:[Object(y.jsx)("div",{className:"card-header",id:"heading4",children:Object(y.jsx)("h5",{className:"mb-0",children:Object(y.jsx)("button",{className:"btn btn-link collapsed","data-toggle":"collapse","data-target":"#collapse4","aria-expanded":"false","aria-controls":"collapse4",children:"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435"})})}),Object(y.jsx)("div",{id:"collapse4",className:"collapse","aria-labelledby":"heading4","data-parent":"#accordion",children:Object(y.jsx)("div",{className:"card-body",children:Object(y.jsxs)("form",{children:[Object(y.jsx)("label",{htmlFor:"inputText3",className:"col-12 col-form-label",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442"}),Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)("input",{type:"text",className:"form-control",id:"inputText3",placeholder:"\u041e\u043d \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0443 \u0432\u0430\u0441 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",onChange:function(e){c(e.target.value)}})}),Object(y.jsx)("button",{className:"btn btn-secondary",type:"button",onClick:function(){return s.apply(this,arguments)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})})]})},A=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1];function d(){return(d=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({title:"email",value:a,link:l});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsxs)("div",{className:"card",children:[Object(y.jsx)("div",{className:"card-header",id:"headingFive",children:Object(y.jsx)("h5",{className:"mb-0",children:Object(y.jsx)("button",{className:"btn btn-link collapsed","data-toggle":"collapse","data-target":"#collapseFive","aria-expanded":"false","aria-controls":"collapseFive",children:"\u041f\u043e\u0447\u0442\u0430"})})}),Object(y.jsx)("form",{id:"collapseFive",className:"collapse","aria-labelledby":"headingFive","data-parent":"#accordion",children:Object(y.jsxs)("div",{className:"card-body",children:[Object(y.jsxs)("div",{className:"form-group row",children:[Object(y.jsx)("label",{htmlFor:"inputText5",className:"col-12 col-form-label",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)("input",{type:"text",className:"form-control",id:"inputText5",placeholder:"\u041a\u0430\u043a \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435?",onChange:function(e){c(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group row",children:[Object(y.jsx)("label",{htmlFor:"inputText3",className:"col-12 col-form-label",children:"\u0412\u0430\u0448 email"}),Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)("input",{type:"text",className:"form-control",id:"inputText3",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",onChange:function(e){o("mailto:"+e.target.value)}})})]}),Object(y.jsx)("button",{className:"btn btn-secondary",type:"button",onClick:function(){return d.apply(this,arguments)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})]})},I=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1];function d(){return(d=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({title:"map",value:a,link:l});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsxs)("div",{className:"card",children:[Object(y.jsx)("div",{className:"card-header",id:"headingSix",children:Object(y.jsx)("h5",{className:"mb-0",children:Object(y.jsx)("button",{className:"btn btn-link collapsed","data-toggle":"collapse","data-target":"#collapseSix","aria-expanded":"false","aria-controls":"collapseSix",children:"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"})})}),Object(y.jsx)("form",{id:"collapseSix",className:"collapse","aria-labelledby":"headingSix","data-parent":"#accordion",children:Object(y.jsxs)("div",{className:"card-body",children:[Object(y.jsxs)("div",{className:"form-group row",children:[Object(y.jsx)("label",{htmlFor:"inputText5",className:"col-12 col-form-label",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)("input",{type:"text",className:"form-control",id:"inputText5",placeholder:"\u041a\u0430\u043a \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435?",onChange:function(e){c(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group row",children:[Object(y.jsx)("label",{htmlFor:"inputText3",className:"col-12 col-form-label",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"}),Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)("input",{type:"text",className:"form-control",id:"inputText3",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443",onChange:function(e){o(e.target.value)}})})]}),Object(y.jsx)("button",{className:"btn btn-secondary",type:"button",onClick:function(){return d.apply(this,arguments)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})]})},E=function(){return Object(y.jsxs)("div",{className:"col-10 col-sm-8 col-lg-6",children:[Object(y.jsx)("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#Modal",children:Object(y.jsx)("div",{className:"krest"})}),Object(y.jsx)("div",{className:"modal fade",id:"Modal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(y.jsx)("div",{className:"w-100 p-0 m-auto modal-dialog",role:"document",children:Object(y.jsxs)("div",{className:"modal-content",children:[Object(y.jsxs)("div",{className:"modal-header",children:[Object(y.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0431\u043b\u043e\u043a\u0430"}),Object(y.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(y.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(y.jsx)("div",{className:"modal-body",children:Object(y.jsxs)("div",{id:"accordion",children:[Object(y.jsx)(S,{}),Object(y.jsx)(T,{}),Object(y.jsx)(_,{}),Object(y.jsx)(A,{}),Object(y.jsx)(I,{}),Object(y.jsx)(F,{})]})}),Object(y.jsx)("div",{className:"modal-footer",children:Object(y.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})},D=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("api/accounts/token",{username:t,password:a});case 2:return n=e.sent,c=n.data,h.defaults.headers.Authorization="Bearer ".concat(c.access),localStorage.setItem("token",JSON.stringify(c)),e.abrupt("return",c.token);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("api/accounts/token/refresh",{refresh:null===(t=JSON.parse(localStorage.getItem("token")))||void 0===t?void 0:t.refresh});case 2:return a=e.sent,n=a.data,h.defaults.headers.Authorization="Bearer ".concat(n.access),e.abrupt("return",n.token);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("api/accounts/page-path");case 2:return t=e.sent,a=t.data,e.abrupt("return",a.page_path);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){var t=Object(n.useContext)(V).user.isAuth,a=Object(n.useState)("btn btn-secondary submit"),c=Object(i.a)(a,2),s=c[0],r=c[1],o=Object(n.useState)(e.props.displayed_name),d=Object(i.a)(o,2),b=d[0],p=d[1],h=Object(l.h)().id;function m(){return(m=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return t=e.sent,e.next=5,O(t,{displayed_name:b});case 5:r("btn btn-secondary submit");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){p(e.props.displayed_name)}),[e.props.displayed_name]),t?Object(y.jsxs)("h2",{className:"Title",children:[Object(y.jsx)("input",{type:"text",value:b||"",onChange:function(t){t.preventDefault(),p(t.target.value),e.props.displayed_name!==t.target.value?r("btn btn-secondary submit visibility"):r("btn btn-secondary submit")}},h),Object(y.jsx)("button",{className:s,type:"submit",onClick:function(){return m.apply(this,arguments)},children:"Ok"})]}):Object(y.jsx)("h2",{className:"Title",children:b||""})},R=function(e){var t=Object(n.useContext)(V).user.isAuth,a=Object(n.useState)(e.props.photo),c=Object(i.a)(a,2),s=c[0],r=c[1],o=Object(l.h)().id;function d(){return(d=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("uplodfile").click();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!t.target.files.length){e.next=8;break}return(a=new FormData).append("photo",t.target.files[0]),e.next=6,O(o,a);case 6:e.sent,window.location.reload();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){r(e.props.photo)}),[e.props.photo]),t?Object(y.jsx)("div",{children:Object(y.jsxs)("form",{className:"element-photo",children:[Object(y.jsx)("img",{onClick:function(){return d.apply(this,arguments)},src:s,alt:""}),Object(y.jsx)("input",{type:"file",id:"uplodfile",onChange:function(e){return b.apply(this,arguments)}})]})}):Object(y.jsx)("div",{className:"element-photo",children:Object(y.jsx)("img",{src:s,alt:""})})},J=(a(22),Object(C.a)((function(){var e=Object(n.useContext)(V).user,t=Object(n.useState)({}),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(l.h)().id;Object(n.useEffect)((function(){x(r).then((function(e){return s(e)}))}),[r]);var o=e.isAuth;return e.id===c.page_path?(e.setIsAuth(!0),o=e.isAuth):(e.setIsAuth(!1),o=e.isAuth),Object(y.jsxs)("div",{className:"container mt-5",children:[Object(y.jsxs)("div",{className:"row d-flex flex-column align-items-center",children:[Object(y.jsx)(R,{props:c}),Object(y.jsx)(B,{props:c})]}),Object(y.jsx)("div",{className:"row d-flex flex-column align-items-center",children:Object(y.jsx)(w,{props:c.fields},c.id)}),Object(y.jsxs)("div",{className:"row d-flex flex-column align-items-center mb-5",children:[o&&Object(y.jsx)(E,{}),Object(y.jsx)("h1",{children:"ghjh"})]})]})}))),U=Object(C.a)((function(){var e=Object(n.useContext)(V).user,t=Object(l.g)(),a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],r=c[1],o=Object(n.useState)(""),d=Object(i.a)(o,2),b=d[0],p=d[1],h=function(){var a=Object(j.a)(u.a.mark((function a(){var n,c,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,D(s,b);case 3:return a.next=5,L();case 5:n=a.sent,e.setUser(e),e.setIsAuth(!0),e.setId(n),t.push("/".concat(e.id)),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),console.error(a.t0),alert(null===(c=a.t0.response)||void 0===c||null===(r=c.data)||void 0===r?void 0:r.message);case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(){return a.apply(this,arguments)}}();return Object(y.jsx)("div",{className:"row mt-4",children:Object(y.jsx)("div",{className:"col-4 mx-auto",children:Object(y.jsx)("div",{className:"card",children:Object(y.jsxs)("article",{className:"card-body",children:[Object(y.jsx)("h4",{className:"card-title text-center mb-4 mt-1",children:"Log In"}),Object(y.jsxs)("form",{children:[Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)("div",{className:"input-group",children:Object(y.jsx)("input",{className:"form-control",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 email...",name:"email",value:s,onChange:function(e){return r(e.target.value)},required:!0})})}),Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)("div",{className:"input-group",children:Object(y.jsx)("input",{className:"form-control",type:"password",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c...",value:b,onChange:function(e){return p(e.target.value)},required:!0})})}),Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)("button",{type:"button",className:"btn btn-dark btn-block",onClick:h,children:"Login"})})]})]})})})})})),z=[{path:o,Component:U},{path:"/:id",Component:J}],q=Object(C.a)((function(){var e=Object(n.useContext)(V).user,t=Object(n.useState)(!0),a=Object(i.a)(t,2),c=a[0],s=a[1];Object(l.g)();return Object(n.useEffect)((function(){M().then((function(t){e.setUser(!0),L().then((function(t){e.setId(t)}))})).finally((function(){return s(!1)}))}),[]),c?Object(y.jsx)("div",{children:"\u0421\u0435\u043a\u0443\u043d\u0434\u043e\u0447\u043a\u0443..."}):Object(y.jsxs)(l.d,{children:[z.map((function(e){var t=e.path,a=e.Component;return Object(y.jsx)(l.b,{path:t,component:a,exact:!0},t)})),Object(y.jsx)(l.a,{to:o})]})})),P=Object(C.a)((function(){return Object(y.jsx)(r.a,{children:Object(y.jsx)(q,{})})})),W=a(18),Y=a(19),G=a(6),H=function(){function e(){Object(W.a)(this,e),this._isAuth=!1,this._user={},this._id=void 0,Object(G.d)(this)}return Object(Y.a)(e,[{key:"setIsAuth",value:function(e){this._isAuth=e}},{key:"setUser",value:function(e){this._user=e}},{key:"setId",value:function(e){this._id=e}},{key:"isAuth",get:function(){return this._isAuth}},{key:"user",get:function(){return this._user}},{key:"id",get:function(){return this._id}}]),e}(),K=function(){function e(){Object(W.a)(this,e),this._fields=[],Object(G.d)(this)}return Object(Y.a)(e,[{key:"setFields",value:function(e){this._fields=e}},{key:"fields",get:function(){return this._fields}}]),e}(),Q=function(){function e(){Object(W.a)(this,e),this._cards=[],Object(G.d)(this)}return Object(Y.a)(e,[{key:"setCards",value:function(e){this._cards=e}},{key:"cards",get:function(){return this._cards}}]),e}(),V=(a(69),a(70),Object(n.createContext)(null));s.a.render(Object(y.jsx)(V.Provider,{value:{user:new H,cards:new Q,fields:new K},children:Object(y.jsx)(P,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.e64aeca4.chunk.js.map